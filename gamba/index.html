<main></main>
<crosshair/>

<style>
body {
  padding: 0;
  margin: 0;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  background: linear-gradient(#000, #222);
}

main {
  display: flex;
  transform: translateX(50%);
  oldanimation: spin 3s ease forwards;
  gap: 4px;
}

@keyframes spin {
  100% {
    transform: translateX(calc(-50% + 10 * 132px));
  }
}

item {
  width: 128px;
  height: 128px;
  display: flex;
  justify-content: center;
  align-items: center;
  color: white;
  font-size: 64px;
  background: linear-gradient(#eee, #aaa);
  box-sizing: border-box;
  box-shadow: inset 0 0 10px #311b0b;
}

.gold::before {
  content: "";
  background: linear-gradient(transparent, yellow);
  width: 100%;
  height: 30%;
  align-self: end;
}

.red::before {
  content: "";
  background: linear-gradient(transparent, red);
  width: 100%;
  height: 30%;
  align-self: end;
}

.pink::before {
  content: "";
  background: linear-gradient(transparent, magenta);
  width: 100%;
  height: 30%;
  align-self: end;
}

.purple::before {
  content: "";
  background: linear-gradient(transparent, purple);
  width: 100%;
  height: 30%;
  align-self: end;
}

.blue::before {
  content: "";
  background: linear-gradient(transparent, dodgerblue);
  width: 100%;
  height: 30%;
  align-self: end;
}

crosshair {
  display: block;
  width: 4px;
  height: calc(128px + 48px);
  background-color: magenta;
  position: absolute;
}
</style>

<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script>
$(document).ready(() => {
  console.log("ready!");

  $("main").css("margin-left", `${Math.random() * 256}px`);
  $("main").css("animation", "spin 4s ease forwards");

  // i == 53
  for (let i = 0; i < 64; i++) {
    let rng = Math.random();
    let rarity = "blue";
    let gold = false;
    
    if (rng < 0.0026) { 
      if (gold) {
	i--;
        continue;      
      }

      rarity = "gold";
      gold = true;
    }
    else if (rng < 0.0064) { rarity = "red" }
    else if (rng < 0.032) { rarity = "pink" }
    else if (rng < 0.15) { rarity = "purple" }

    //if (i == 53) rarity = "gold";

    $("main").append(`<item class="${rarity}"></item>`);
  }
})
</script>